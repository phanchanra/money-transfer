<!--Index-->
<template name="MoneyTransfer_fromThai">
    <div class="box-header with-border">
        <h3 class="box-title">
            {{> addNewButton}}
        </h3>
    </div>
    <!-- /.box-header -->

    <div class="box-body">
        <!--Tabular-->
        {{> tabular table=tabularTable class="table table-striped table-bordered table-condensed"}}

        <!--Reactive Table-->
        <!--{{> reactiveTable settings=tableSettings}}-->
    </div>
    <!-- /.box-body -->
</template>

<!--Action-->
<template name="MoneyTransfer_fromThaiAction">
    {{#columnAction}}
        <li><a href="#" class="js-update"><i class="fa fa-pencil"></i> {{_ "action.edit"}}</a></li>
        <li><a href="#" class="js-destroy"><i class="fa fa-remove"></i> {{_ "action.delete"}}</a></li>
        <li><a href="#" class="js-display"><i class="fa fa-eye"></i> {{_ "action.show"}}</a></li>
    {{/columnAction}}
</template>

<!--Insert-->
<template name="MoneyTransfer_fromThaiNew">
    <div class="box-body">
        {{#autoForm collection=collection id="MoneyTransfer_fromThaiNew" type="insert"}}
            <!--general-->
            <fieldset>
                <legend>General</legend>
                <div class="row">
                    <div class="col-md-3">
                        {{> afQuickField name='invoice'}}
                    </div>
                    <div class="col-md-3">
                        {{> afQuickField name='transferDate'}}
                    </div>
                    <div class="col-md-3">
                        {{> afQuickField name="transferType"}}
                    </div>
                    <div class="col-md-3">
                        {{> afQuickField name="feeType"}}
                    </div>

                </div>
            </fieldset>
            <!--partnership-->
            <div class="row">
                <div class="col-md-6">
                    <fieldset>
                        <legend>Bank</legend>
                        <div class="row">
                            <div class="col-md-6">
                                {{> afQuickField name='thaiBankId'}}
                            </div>
                            <div class="col-md-6">
                                {{> afQuickField name='code'}}
                            </div>
                        </div>
                    </fieldset>
                </div>

                <div class="col-md-6">
                    <fieldset>
                        <legend>Service</legend>
                        <div class="row">
                            <div class="col-md-6">
                                {{> afQuickField name='amount'}}
                            </div>
                            <div class="col-md-6">
                                {{> afQuickField name='amountFee' readonly=true}}
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <!--customer-->
            <div class="row">
                <div class="col-md-6">
                    <fieldset>
                        <legend>Sender</legend>
                        <div class="row">
                            <div class="col-md-6">
                                {{> afQuickField name='senderId'}}
                            </div>
                            <div class="col-md-6">
                                {{> afQuickField name='receiverId'}}

                            </div>
                        </div>
                    </fieldset>
                </div>

                <div class="col-md-6">
                    <fieldset>
                        <legend>Receiver</legend>
                        <div class="row">
                            <div class="col-md-6">
                                {{> afQuickField name='currency'}}
                            </div>
                            <div class="col-md-6">
                                {{> afQuickField type="hidden" name='branchId' value=currentBranch}}

                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>

            <fieldset>
                <legend>Exchange(<input type="checkbox" class="icheckbox_minimal-blue" name="up-down" id="up-down"/>
                    Show/Hide)
                </legend>
                {{#if isTHB }}
                    <div class="row exchange-block" id="up-down-slide" style="display: none;">
                        <div class="convert-block">
                            <div class="col-md-3">
                                Exchange THB:
                                {{> afQuickField name='exchange.0.fromAmount' label=false}}
                            </div>
                            <div class="col-md-3">
                                KHR:
                                {{> afQuickField name='exchange.0.toAmount' label=false}}
                                {{> afQuickField name='exchange.0.currency' value="KHR" type='hidden'}}

                            </div>
                        </div>
                        <div class="convert-block">
                            <div class="col-md-3">
                                Exchange THB:
                                {{> afQuickField name='exchange.1.fromAmount' label=false}}
                            </div>
                            <div class="col-md-3">
                                USD:
                                {{> afQuickField name='exchange.1.toAmount' label=false}}
                                {{> afQuickField name='exchange.1.currency' value="USD" type='hidden'}}
                            </div>
                        </div>
                    </div>
                {{/if}}
                {{#if isKHR}}
                    <div class="row exchange-block" id="up-down-slide" style="display: none;">
                        <div class="convert-block">
                            <div class="col-md-3">
                                Exchange KHR:
                                {{> afQuickField name='exchange.0.fromAmount' label=false}}
                            </div>
                            <div class="col-md-3">
                                THB:
                                {{> afQuickField name='exchange.0.toAmount' label=false}}
                                {{> afQuickField name='exchange.0.currency' value="THB" type='hidden'}}

                            </div>
                        </div>
                        <div class="convert-block">
                            <div class="col-md-3">
                                Exchange KHR:
                                {{> afQuickField name='exchange.1.fromAmount' label=false}}
                            </div>
                            <div class="col-md-3">
                                USD:
                                {{> afQuickField name='exchange.1.toAmount' label=false}}
                                {{> afQuickField name='exchange.1.currency' value="USD" type='hidden'}}
                            </div>
                        </div>
                    </div>
                {{/if}}
                {{#if isUSD}}
                    <div class="row exchange-block" id="up-down-slide" style="display: none;">
                        <div class="convert-block">
                            <div class="col-md-3">
                                Exchange USD:
                                {{> afQuickField name='exchange.0.fromAmount' label=false}}
                            </div>
                            <div class="col-md-3">
                                KHR:
                                {{> afQuickField name='exchange.0.toAmount' label=false}}
                                {{> afQuickField name='exchange.0.currency' value="KHR" type='hidden'}}

                            </div>
                        </div>
                        <div class="convert-block">
                            <div class="col-md-3">
                                Exchange USD:
                                {{> afQuickField name='exchange.1.fromAmount' label=false}}
                            </div>
                            <div class="col-md-3">
                                THB:
                                {{> afQuickField name='exchange.1.toAmount' label=false}}
                                {{> afQuickField name='exchange.1.currency' value="THB" type='hidden'}}
                            </div>
                        </div>
                    </div>
                {{/if}}
                <div class="row">
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-3">
                        {{> afQuickField name='remainAmount'}}
                    </div>
                    <div class="col-md-3">
                        {{> afQuickField name='description' row=3}}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        {{> formFooterWithButton}}
                    </div>
                </div>

            </fieldset>


        {{/autoForm}}
    </div>
</template>

<!--Update-->
<template name="MoneyTransfer_fromThaiEdit">
    <div class="box-body">
        {{#if Template.subscriptionsReady}}
            {{#autoForm collection=collection id="MoneyTransfer_fromThaiEdit" doc=data type="update"}}
                <div class="row">
                    <div class="col-md-6">
                        {{> afQuickField name='invoice'}}
                        {{> afQuickField name='customerId'}}
                        {{> afQuickField name='thaiBankId'}}
                        {{> afQuickField name='code'}}
                        {{> afQuickField name='thaiServiceId'}}
                        {{> afQuickField name='time'}}
                    </div>
                    <div class="col-md-6">
                        {{> afQuickField name='transferDate'}}
                        {{> afQuickField name='amount'}}
                        {{> afQuickField name='serviceAmount'}}
                        {{> afQuickField type="hidden" name='branchId' value=currentBranch}}
                        {{> formFooterWithButton}}
                    </div>
                </div>
            {{/autoForm}}
        {{else}}
            {{> loading}}
        {{/if}}
    </div>
</template>

<!--Show-->
<template name="MoneyTransfer_fromThaiShow">
    <div class="box-body">
        {{#if Template.subscriptionsReady}}
            {{#with data}}
                <dl class="dl-horizontal">
                    <dt>{{_ (i18nLabel "_id")}}</dt>
                    <dd>{{_id}}</dd>
                    <dt>{{_ (i18nLabel "fromAmount")}}</dt>
                    <dd>{{fromAmount}}</dd>
                    <dt>{{_ (i18nLabel "toAmount")}}</dt>
                    <dd>{{toAmount}}</dd>
                    <dt>{{_ (i18nLabel "fee")}}</dt>
                    <dd>{{fee}}</dd>
                </dl>
            {{/with}}
        {{else}}
            {{> loading}}
        {{/if}}
    </div>
</template>
